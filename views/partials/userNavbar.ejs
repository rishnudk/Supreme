<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supreme - Modern Furniture</title>

     <link rel="stylesheet" href="/css/user-navbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">



</head>
<body>
    <!-- Announcement Bar -->
    <div class="announcement-bar py-2">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <p class="announcement-text mb-0">Free Shipping on Orders Over 10,00 | 30-Day Returns</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Main Header -->
    <header class="supreme-header">
        <nav class="navbar navbar-expand-lg">
            <div class="container">
                <!-- Logo -->
                <a class="navbar-brand" href="/user/home">
                    <img src="/images/logoxxx.jpg" alt="Supreme Furniture" class="logo"> 
                </a>
                
                <!-- Mobile Menu Toggle -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" 
                        aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                
                <!-- Navigation Menu -->
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="navbar-nav mx-auto">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="livingRoomDropdown" role="button" 
                               data-bs-toggle="dropdown" aria-expanded="false">
                                Living Room
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="livingRoomDropdown">
                                <li><a class="dropdown-item" href="#">Sofas</a></li>
                                <li><a class="dropdown-item" href="#">Coffee Tables</a></li>
                                <li><a class="dropdown-item" href="#">TV Stands</a></li>
                                <li><a class="dropdown-item" href="#">Armchairs</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#">All Living Room</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="bedroomDropdown" role="button" 
                               data-bs-toggle="dropdown" aria-expanded="false">
                                Bedroom
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="bedroomDropdown">
                                <li><a class="dropdown-item" href="#">Beds</a></li>
                                <li><a class="dropdown-item" href="#">Wardrobes</a></li>
                                <li><a class="dropdown-item" href="#">Nightstands</a></li>
                                <li><a class="dropdown-item" href="#">Dressers</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#">All Bedroom</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="diningDropdown" role="button" 
                               data-bs-toggle="dropdown" aria-expanded="false">
                                Dining
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="diningDropdown">
                                <li><a class="dropdown-item" href="#">Dining Tables</a></li>
                                <li><a class="dropdown-item" href="#">Dining Chairs</a></li>
                                <li><a class="dropdown-item" href="#">Bar Stools</a></li>
                                <li><a class="dropdown-item" href="#">Buffets & Sideboards</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item" href="#">All Dining</a></li>
                            </ul>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/user/shop">Office</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/user/shop">Outdoor</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/user/shop">Shop</a>
                        </li>
                    </ul>
                    <!-- Search Form -->
                    <div class="search-container me-3">
                      <div class="search-toggle d-lg-none">
                          <i class="fas fa-search"></i>
                      </div>
                      <form class="search-form d-none d-lg-flex">
                          <input class="form-control search-input" type="search" placeholder="Search furniture..." aria-label="Search">
                          <button class="btn search-button" type="submit">
                              <i class="fas fa-search"></i>
                          </button>
                      </form>
                  </div>
                  
                  <!-- User Navigation -->


<!-- DEBUG: Userheader Partial Loaded -->
<div class="user-nav">
    <!-- Account Dropdown -->
    <div class="user-nav-item">
        <a href="#" class="user-nav-link" id="accountDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="fas fa-user"></i>
            <span class="d-none d-xl-inline ms-1">
                <% if (user) { %>
                    <%= user.name %>
                <% } else { %>
                    Account
                <% } %>
            </span>
        </a>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="accountDropdown">
            <% if (user) { %>
                <li><a class="dropdown-item" href="/user/account">Profile</a></li>
                <li><a class="dropdown-item" href="/user/account">Order History</a></li>
                <li><a class="dropdown-item" href="/user/logout">Logout</a></li>
            <% } else { %>
                <li><a class="dropdown-item" href="/login">Sign In</a></li>
                <li><a class="dropdown-item" href="/user/signup">Create Account</a></li>
            <% } %>
        </ul>
    </div>

    <!-- Wishlist Icon -->
    <div class="user-nav-item">
        <a href="/user/wishlist" class="user-nav-link">
            <i class="far fa-heart"></i>
            <span class="badge rounded-pill wishlist-count" style="display: <%= wishlistCount > 0 ? 'inline-block' : 'none' %>;"><%= wishlistCount %></span>
        </a>
    </div>

    <!-- Cart Icon -->
    <div class="user-nav-item">
        <a href="/user/cart" class="user-nav-link">
            <i class="fas fa-shopping-cart"></i>
            <span class="badge rounded-pill cart-count" style="display: <%= cartCount > 0 ? 'inline-block' : 'none' %>;"><%= cartCount %></span>
        </a>
    </div>
</div>
                </div>

              </div>
          </div>
      </nav>
      
      <!-- Mobile Search Overlay (Hidden by default) -->
      <div class="mobile-search-overlay">
          <div class="container">
              <div class="mobile-search-wrapper">
                  <form class="mobile-search-form">
                      <input class="form-control" type="search" placeholder="Search furniture..." aria-label="Search">
                      <button class="btn search-button" type="submit">
                          <i class="fas fa-search"></i>
                      </button>
                      <button type="button" class="btn close-search">
                          <i class="fas fa-times"></i>
                      </button>
                  </form>
              </div>
          </div>
      </div>
  </header>
  
  <!-- Mobile Category Navigation (shown on small screens) -->
  <div class="mobile-category-nav d-lg-none">
      <div class="container">
          <div class="row">
              <div class="col-12">
                  <div class="mobile-categories-wrapper">
                      <div class="mobile-category-item">
                          <a href="#" class="mobile-category-link">
                              <i class="fas fa-couch"></i>
                              <span>Living</span>
                            </a>
                          </div>
                          <div class="mobile-category-item">
                              <a href="#" class="mobile-category-link">
                                  <i class="fas fa-bed"></i>
                                  <span>Bedroom</span>
                              </a>
                          </div>
                          <div class="mobile-category-item">
                              <a href="#" class="mobile-category-link">
                                  <i class="fas fa-utensils"></i>
                                  <span>Dining</span>
                              </a>
                          </div>
                          <div class="mobile-category-item">
                              <a href="#" class="mobile-category-link">
                                  <i class="fas fa-chair"></i>
                                  <span>Office</span>
                              </a>
                          </div>
                          <div class="mobile-category-item">
                              <a href="#" class="mobile-category-link">
                                  <i class="fas fa-umbrella-beach"></i>
                                  <span>Outdoor</span>
                              </a>
                          </div>
                          <div class="mobile-category-item">
                              <a href="#" class="mobile-category-link">
                                  <i class="fas fa-tag"></i>
                                  <span>Sale</span>
                              </a>
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>
      
      <!-- Hero section would go here -->
      
      <!-- Bootstrap and custom JavaScript (at the end of body) -->
      <!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script> -->



      
     
<script>




// Helper to update badge
function updateBadge(selector, count) {
    const badge = document.querySelector(selector);
    if (badge) {
        badge.textContent = count;
        badge.style.display = count > 0 ? 'inline-block' : 'none';
    } else {
        console.error(`${selector} not found`);
    }
}

// Toast notification
function showToast(message, type = 'success') {
    const toast = document.createElement('div');
    toast.className = `toast ${type}`;
    toast.textContent = message;
    document.body.appendChild(toast);
    setTimeout(() => {
        toast.classList.add('show');
        setTimeout(() => {
            toast.classList.remove('show');
            setTimeout(() => toast.remove(), 300);
        }, 3000);
    }, 100);
}

// Header functionality
function initializeHeader() {
    // Sticky header
    const header = document.querySelector('.supreme-header');
    if (header) {
        let headerOffset = header.offsetTop;
        window.addEventListener('resize', () => {
            headerOffset = header.offsetTop;
        });
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > headerOffset) {
                header.classList.add('sticky');
                document.body.style.paddingTop = header.offsetHeight + 'px';
            } else {
                header.classList.remove('sticky');
                document.body.style.paddingTop = '0';
            }
        });
    }

    // Mobile search toggle
    const searchToggle = document.querySelector('.search-toggle');
    const mobileSearchOverlay = document.querySelector('.mobile-search-overlay');
    const closeSearch = document.querySelector('.close-search');
    if (searchToggle && mobileSearchOverlay && closeSearch) {
        searchToggle.addEventListener('click', () => {
            mobileSearchOverlay.classList.add('active');
            setTimeout(() => {
                mobileSearchOverlay.querySelector('input')?.focus();
            }, 300);
        });
        closeSearch.addEventListener('click', () => {
            mobileSearchOverlay.classList.remove('active');
        });
    }

    // Cart dropdown on mobile
    const cartDropdown = document.querySelector('.cart-dropdown');
    const cartToggle = document.querySelector('#cartDropdown');
    if (cartDropdown && cartToggle && window.innerWidth < 768) {
        cartToggle.addEventListener('click', (e) => {
            e.preventDefault();
            e.stopPropagation();
            cartDropdown.classList.toggle('show');
            document.addEventListener('click', function closeCart(e) {
                if (!cartDropdown.contains(e.target) && !cartToggle.contains(e.target)) {
                    cartDropdown.classList.remove('show');
                    document.removeEventListener('click', closeCart);
                }
            });
        });
    }

    // Dropdown hover on desktop
    const dropdowns = document.querySelectorAll('.dropdown');
    function handleDropdownHover() {
        if (window.innerWidth >= 992) {
            dropdowns.forEach(dropdown => {
                dropdown.addEventListener('mouseenter', () => {
                    dropdown.querySelector('.dropdown-toggle')?.click();
                });
                dropdown.addEventListener('mouseleave', () => {
                    dropdown.querySelector('.dropdown-toggle')?.click();
                });
            });
        }
    }
    handleDropdownHover();
    let resizeTimer;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(handleDropdownHover, 250);
    });
}

// Initialize everything
document.addEventListener('DOMContentLoaded', () => {
    console.log('Initializing header and badges');
    initializeHeader();
});
</script>
</body>
  </html>